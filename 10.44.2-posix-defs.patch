--- origsrc/netpbm/converter/other/jpeg2000/libjasper/Makefile.common	2008-11-06 00:51:57.000000000 -0600
+++ src/netpbm/converter/other/jpeg2000/libjasper/Makefile.common	2008-11-06 00:57:29.133794100 -0600
@@ -23,7 +23,7 @@
 
 INCLUDES = -I$(JASPERSRCDIR)/include -Iimportinc
 
-DEFS = -DHAVE_LIBM=1 -DSTDC_HEADERS=1 -DHAVE_FCNTL_H=1 -DHAVE_LIMITS_H=1 -DHAVE_UNISTD_H=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STDDEF_H=1 -DEXCLUDE_BMP_SUPPORT -DEXCLUDE_RAS_SUPPORT -DEXCLUDE_MIF_SUPPORT -DEXCLUDE_JPG_SUPPORT -DEXCLUDE_PGX_SUPPORT -DEXCLUDE_PNM_SUPPORT
+DEFS = -DHAVE_LIBM=1 -DSTDC_HEADERS=1 -DHAVE_FCNTL_H=1 -DHAVE_LIMITS_H=1 -DHAVE_UNISTD_H=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STDDEF_H=1 -DHAVE_STDINT_H=1 -DEXCLUDE_BMP_SUPPORT -DEXCLUDE_RAS_SUPPORT -DEXCLUDE_MIF_SUPPORT -DEXCLUDE_JPG_SUPPORT -DEXCLUDE_PGX_SUPPORT -DEXCLUDE_PNM_SUPPORT
 
 $(LIB_OBJECTS):%.o:%.c
 	$(CC) -c $(CPPFLAGS) $(CFLAGS) $(INCLUDES) $(DEFS) $(CADD) $<
--- origsrc/netpbm/pm_config.in.h	2008-11-06 00:52:21.000000000 -0600
+++ src/netpbm/pm_config.in.h	2008-11-06 00:54:24.071294100 -0600
@@ -49,7 +49,7 @@
 
    The problematic C libraries treat _XOPEN_SOURCE the same way.
 */
-#if defined(__OpenBSD__) || defined (__NetBSD__) || defined(__bsdi__) || defined(__APPLE__)
+#if defined(__OpenBSD__) || defined (__NetBSD__) || defined(__bsdi__) || defined(__APPLE__) || defined(__CYGWIN__)
 #define POSIX_IS_IMPLIED
 #endif
 
